=======================================

This manual is for Version 1.051 scripts and may not be accurate for other versions. Updates and product assistance may be found by joining the product group.

{Karakuri}
secondlife:///app/group/12de4b62-1b60-7765-2620-418d1835554c/about

*Note* This document makes a distinction between the "Wearer", or the one the key is attached to, and the "Owner" who is someone that is declared within the key as having access to advanced features. 

**Note** A defined Owner has the potential to limit certain functions of the key to the Wearer. This is an intended and designed feature. 

==================
=      Table of Contents     =
==================
1). Product Features
2). Menu and Button Descriptions
3). Ownership and RLV
4). The Configuration Notecard
5). Safewords and Product Resets
6). Version History
7). Other Notes.


==================
=    1). Product Features    =
==================

The Karakuri key scripts are designed for both a  long or short doll/clockwork experience. Certain settings may make use of Remote Scripted Viewer Controls (which can be enabled on many 3rd party viewers) but has a number of features that make use of vanilla LSL functions. Features which are limited to usage with Remote Scripted Viewer Controls will be notated with (RLV) unless otherwise stated.

# Allows up to 6 persons to have full control over your key and related settings.
# Features 3 modes of operation, Default, Roleplay, and Full RLV (RLV).
# All messages related to the key are gender-neutral so can be worn by male, female, and neuter clockworks.
# Variable settings for maximum time on the wind spring from 30 minutes to 8 hours on a full wind.
# Exclusive interaction functions in all modes for others to experiment with.
# Will wind down over time preventing movement or limiting interaction (RLV)
# Can be self-wound or have self-winding disabled (RLV)
# Can be made non-detachable for periods of time (RLV) and prevent wearer-detatch without assistance (RLV)
# Features a "Standby" mode designed for extended play sessions (RLV).
# Ownership options to limit Wearer management of their key (RLV)
# Configuration notecard for assigning your own sounds or changing sound volume.
# Built in safeword with notification to Owners on unwinding if you should get stuck somewhere (RLV).
# Float text above key when you unwind to let persons nearby know you need to be wound.
# Automatic interrupt on unwind for ZHAO II style AOs.
# Menu cooldowns to prevent spam of non-useful interactions.

*Note*
RLV itself can be a daunting subject, so please see the notes at the end of this document or do a brief search to learn more.

==================
=    2). Menu and Button   =
=           Descriptions       =
==================

  2A).  -Main Menu-

Wind
- This button adds time to your key at a rate of 1/8 your maximum time or a minimum of 15 minutes per winding. 
- In Default mode, this button is only available to the Wearer or any declared Owners, but your wind time will not decrease no matter what you do.
- In Roleplay mode, this button is visible to others and will allow people to add more time to your key instead of relying on yourself to stay wound. Your key will unwind at a steady rate, and when time is up, you will collapse to the ground and become unable to move until you get wound, but no other restrictions on speech, actions, or vision are applied.
- In Full RLV mode, this button behaves similar to Roleplay mode, but can be made to prevent self-winding, making them reliant on the kindness of others. When the remaining time on the key runs out, the doll will still collapse to the ground and be unable to move, but will find their ability to see and interact limited until their key gets wound.
 **There is no penalty for being overwound due to the tendency for persons trying.**

*Disabled* or Lock/Unlock (RLV)
- Prevents or enables removal of the attached key when in Full RLV mode, or switches to *Disabled* when RLV mode is turned off.
- The key will unlock on safeword, and remain locked in place upon re-log until unlocked.
- Certain settings cannot be changed when the key is locked for safety reasons.
- With RLV mode enabled, the key can be unlocked by anyone if no Owner is declared, or by the Wearer unless prevented by settings.
- If an Owner is declared, only a listed Owner or the Wearer may unlock the key once locked.
    
Interact
- Allows fun messages to be used in regard to the key and its wearer
- In Default mode, it is the only action available to non-Owner/Wearers.
- The interactions do not change anything about your key, restrictions, and are there mostly as an interest point.

+Wind+
- Only visible when accessed by the Wearer when self-winding has been disabled.
- Rather than being able to wind oneself, it sends out a small message in chat hinting that the Wearer might want to be wound.

Safeword (RLV)
- Clears all restrictions currently being applied by the key and reverts it to Default mode with some time added.
- Meant to be a last resort when you become stuck somewhere and nobody is around who can wind the doll.
- Upon activation notifies all declared Owners of the key with a message about which doll has safeworded.
- If settings are locked out to the wearer, the key will be stuck in Default mode until an Owner can change it back.
- If no Owners are decared, no notifications will be sent out and the Wearer should have full access to all settings after safewording.
- Safeword will only be available 5 minutes after winding down to prevent panic reactions.


  2B).  -Settings Menu-
    **Note, this menu can only be accessed by the Wearer if the key is unlocked, but may be accessed at any time by an Owner. For sanity reasons, this is not enabled for public use.**

Mode
- Switches mode settings for the key and determines primary behavior. This setting cannot be changed if the key is made non-detatchable.
    ~ Default Mode - Under this setting, the key will not unwind or decrease time. The key will still turn and tick, and other menus will still be available to Owners and Wearers, but will mostly be just asthetic.

    ~ Roleplay Mode - Under this setting, the key WILL unwind and decrease time, and can still restrict the movement of the wearer. The key will have a larger range of interactions to others, and will need to be wound frequently. But, under this setting, the wearer can always wind themselves back up, and can adjust their own settngs as needed. This is the suggested setting for those who are not familiar with RLV scripts.

    ~ Full RLV Mode - Under this setting, the key WILL unwind and decrease time, and will have their actions and movement resticted by various key settings. The key will have the full range of interactions available to Owners and others. **You should ONLY enable this mode if you have a viewer which supports Remote Scripted Controls and have them turned on and understand that these script functions may limit your SL capabilities**

Owners
- Up to 6 owners may be declared for a given key, and ownership is limited to only that copy of the key (Make backups before and after declaring any Owners if possible).
- Allows declaring nearby avatars as Owners and granting them access to administation of the Wearer's key.
- Allows removal of Owners from the list blocking their access to administartion of the Wearer's key, or freeing up space for a new one.
- Owners cannot remove themselves as a countermeasure against abandonment or similar abuse.

Lockout (RLV)
- Controls setting related to what the Wearer of the key can do in regards to their own key.
- These settings will clear if the key is set to anything other than Full RLV mode.

    ~ Self-Wind or ++Wind++
        - Disables/enables the ability of the Wearer to wind themselves. 
    ~ Self-Lock or ++Lock++
        - Disables/enables the ability of the Wearer to unlock themselves.
        - If no Owners are declared, the key may be unlocked by anyone.
        - If Owners are declared, only an Owner or Safeword may unlock the key.
    ~ Settings or +Settings+
        - Disabled/enables the ability of the wearer to change any of the key settings even when unlocked.
        - Can only be changed by a declared Owner.
        - Will automatically clear if no Owners are found.

Time
- Controls the maximum about of winding the key can have at any time.
- Reactively controls how much is wound with each wind based on a rate of 1/8 the maximum with a minimum of 15 minutes.
- Allows a setting between 30 minutes and 8 hours. Factory default is set to 30 minutes, but recommended setting is 1-2 hours depending on how social or active the doll is.
- Sets the current time to the maximum time removing issues reggarding time remaining or having to wind the key several times after changing this setting.
- Can be changed regardless of mode.

Standby (RLV)
- Makes the key time decrease at a rate of 1/4 normal in exchange for limiting some movement or ability.
- Restrictions are intended solely to remove some of the standard SL "superpowers" such as Fly, rez, location, edit, and certain forms of teleportation, or changing of group tag.
- Is NOT intended, NOR suggested as an alternative for actual roleplay with a doll, or as a replacement for other devices which may apply restrictions.
- Designed for extended play sessions where the doll may not have easy access to others to keep them wound, or where frequent winding of the doll may distract from the enjoyment of the session. 
- Combined with long time maximums can allow a whole 32 hours of online time for a doll between windings!
- Standby will automatically clear on wind-down or safeword. 
- Uses a slower ticking and rotation sound by default to let you know it's on.

==================
=       3). Ownership          =
=            and RLV             =
==================

This key makes use of some RLV features for effect and may be best experienced with the help of a trusted Owner.

Declared Owners are given priority access to changing various settings on the Wearer's key, and may prevent the Wearer from changing these settings back, so it is suggested that this person be someone trustworthy, understanding, or atleast someone who has the Wearer's best interests in mind. Owners apply primarily to the features in the Full RLV mode, but can have some value even in Roleplay mode for changing settings as part of a scene or story.

That said, the key itself can be reset at any time to clear the list of Owners, and cannot be indefinitely locked on the Wearer without atleast one Owner being defined. Please see the Safeword section below for more information.


- RLV Specifications.
    -The key applies the following RLV restrictions based on state. 
    -If you do not have RLV enabled on your SL viewer, you WILL be spammed to hell with gold/ownersay text AND none of the restrictions will work.
    -For a full description of what these functions do, please visit the RLV API on the SL wiki.
        http://wiki.secondlife.com/wiki/LSL_Protocol/RestrainedLoveAPI
        
    ~Locked
        detach=n
    ~Unlocked
        detach=y
    ~Standby <on>
        fly=n, temprun=n, alwaysrun=n, chatshout=n, tplm=n, sittp=n, viewnote=n, viewscript=n, edit=n, rez=n, showworldmap=n, showminimap=n, showloc=n, showhovertextworld=n, setgroup=n
    ~Standby <off>
        fly=y, temprun=y, alwaysrun=y, chatshout=y, tplm=y, sittp=y, viewnote=y, viewscript=y, edit=y, rez=y, showworldmap=y, showminimap=y, showloc=y, showhovertextworld=y, setgroup=y
    ~Wind-Down
        Standard LSL overides for movement control.
        showminimap=n, showworldmap=n, shownames=n, fartouch=n, showinv=n, showhovertextworld=n, showloc=n, chatnormal=n, edit=n, rez=n, sittp=n, recvchat=n, setenv_scenegamma:0.0=force (darkness), setdebug_RenderResolutionDivisor:15=force (blur)

**These restrictions or their removal will not have any affect on restrictions associated with other objects. This key may be safely combined with a collar or other restrictive device.**

==================
=       4). Configuration     =
=               Notecard        =
==================

*!*!*!*!*!*!*!*!*!*!*!*Important*!*!*!*!*!*!*!*!*!*!*!*
ALWAYS make a backup of the key and the settings notecard that came with it before making any changes.
*!*!*!*!*!*!*!*!*!*!*!**!*!*!*!*!*!*!*!*!*!*!**!*!*!*!*!*

This section is primarily only for experienced users or those who want to replicate the sound and appearance of another key but use the Karakuri scripts. For most users, the included notecard will do everything they need.

The configuration notecard allows changing the sound and sound volume settings used by the key. This is included to allow individual control over the way the key sounds due to many dolls and clockworks going crazy because of ticking sounds that strike a nerve. You're welcome.

The settings notecard is fairly straight forward and explains operation, but the line number for where things are is of critical importance.

- Sound Volume and Assets
In the case of the following;

##Asset UUID of Ticking Sound##
bac3e333-9624-4b1a-ade2-d2b01d5960aa
##Volume of Ticking Sound 1-10, (1 being quiet, 10 being full volume). Default 6    ##
6

The lines noted by ## and closed by ## should not be moved or edited (expand this notecard window to see the whole line). 

The lines between, "bac3e333-9624-4b1a-ade2-d2b01d5960aa" and "6" can be safely edited to point to a sound asset UUID and a value 1-10 respectively.

The UUID for a sound can be obtained by right clicking on the sound asset located in your inventory and selecting "Copy Asset UUID" from the menu (may vary by browser).

The value for determing the loudness of a sound may require some playing with to get it to a tolerable level based on how loud the sound is normally, but should be a whole number between 1 and 10. (a setting of 0 will turn off the sound completely, and may be preferrable for ticking sounds but should never be used for winding). A setting above 10 will be no different than 10 due to the way that SL handles these things.

- Seconds between ticks
This setting exists for the purpose of sounds which are longer or shorter than 2 seconds. The time it takes to wind down will still be roughly the same regardless what this is set to. This setting also controls how long the windup animation and sounds will play by a factor of roughly 3.

IE:
Tick seconds * 3 = how long winding animation and sound will play. 

If using your own sounds or others, please keep this in mind, and matching things right may take some trial and error.

DO NOT set this below 1 as this will cause significant lag for others and potentially break the key



The notecard also allows adjustment of key rotation speed to match the speed of the sounds or simply to turn at the desired speed or direction. All rotation is on the Z axis so if using another key design, you may need to parent the key to an invisible cylinder.

**Note about changing the Wind-down animation**
    The wind-down animation may be changed simply by removing the existing animation and adding your own. The key will, by default apply the first listed animation in its inventory to what plays when unwound. 

==================
=    5). Safewords and      =
=       Product Resets       =
==================

From Menu Button Descriptions:
Safeword (RLV)
- Clears all restrictions currently being applied by the key and reverts it to Default mode with some time added.
- Meant to be a last resort when you become stuck somewhere and nobody is around who can wind the doll.
- Upon activation notifies all declared Owners of the key with a message about which doll has safeworded.
- If settings are locked out to the wearer, the key will be stuck in Default mode until an Owner can change it back.
- If no Owners are decared, no notifications will be sent out and the Wearer should have full access to all settings after safewording.

The key also contains a hard coded safeword with reset that may be triggered only by a clearly labeled device located in the store where Karakuri products are available. If the existing safeword is not functioning, and re-logging without RLV doesn't allow you to reset the attached object, please join the product group and ask for assistance with your key.

Resetting the key, or using the hard coded safeword will result in clearing out any ownership settings on the key, reverting it back to factory defaults, so should be reserved only for emergencies.


==================
=    6). Version History      =
==================
1.051
    *Major re-write of script to economize memory and improve function.
    *Too many listens bug should be squashed. Key selects a random channel once and keeps that channel. Channel can be re-randomized at any time from selecting "Help" from the settings menu.
    *Fixed time settings
    *Key winding is cyclical for others to make it easier to wind more than once.
    *Restrictions clear should be more robust and less likely to fail.
    *Key will always use first animation in inventory for being unwound. Key will need to be reset for the new animation to be recognized.

1.04
    *Adjusted blindness on unwinding to be more reasonable with more recent Firestorm changes (RLV).

1.03
    *Fixed a small typo that was missed in testing.

1.02
    *Changed values to desired factory defaults.
    *Changed safeword channels to limit access to Beta keys.

1.01
    *Fixed safeword bug that would result in restrictions not being cleared properly
        
1.00 
    *Removed most debugging messages and script comments.
    *Fixed menu timeout to work when unwound.
    
3.7-
    *Added 5 minute delay before safeword is available
    *Added in more buttons to return to previous menu
    *Fixed texts
    *Added in RLV detection to prevent message spam for non-RLV users
    *Blocks settings access on wind down in Roleplay mode

Since Beta 3.2-
    *Removed safeword from main menu.
    *Fixed notecard read on changed inventory.
    *Added additional settings to notecard.
        -rotation controls
        -tick timings
    *Removed some unnecessary menu text.
    *Added Back and Cancel buttons to Settings menu.
    *Added in a hard-coded safeword/reset that can be triggered by a device.
    *Re-enabled Owner notification on safeword.
        
==================
=    7). Other Notes          =
==================
What is RLV (Remote Scripted Viewer Controls)?

- RLVa or RLV alternative can be found present in Pheonix, Firestorm, Impudence, and several other 3rd party viewers, but is initially disabled. This may be enabled in the viewer preferences and disabled at any time.

 - Remote Scripted Viewer Controls were orininally created to allow scripted objects the ability to initiate or prevent a variety of user actions. Unlike some of the more malicious 3rd party additions that have come and gone, these have always been maintained and developed with the benefit of the user in mind. 

- It's most recent incarnation was established by Marine Kelly and a number of other persons for use with the Restrained Love Viewer, a 3rd party viewer which was developed primarily for the bondage and BDSM community, but which had applications in many of the other roleplay communities. 

- RLV itself does not do anything to a person's viewer, but with RLV based scripting, it can allow objects, and through objects others to control the behavior of the avatar. One example of this would be the ability to force wear or remove worn clothing or attachments, or simply prevent them from being added/removed. In some cases these sorts of things can enhance a roleplay experience by unilaterally preventing various SL "superpowers" or forcing someone to adjust to a situation outside their immediate control. But, with any powerful feature, there are those who would use it for grief.

- But, it should be noted that neither RLV nor any RLV script function can do lasting or permanant changes to an avatar or user. All effects caused by RLV can be removed simply by disabling it in your viewer preferences. As any object which is not worn also has to pass through a Relay, the user can decide on their own what sorts of objects they want to allow or disallow, or break their effects instantly. Worn objects are a bit more complicated, but fall under the same limitations and usually have their own methods of clearing restrictions outside of disabling RLV.

- As it is relevent here, the key in itself is not a bondage item in and of itself, doe not have any distinction as a sexual object, and merely makes use of RLV scripting functions to enrich the roleplay experience. In this respect, it is no different than a bed, a couch to denote a setting, or a pair of shackles or furry/pointed ears to denote a status. A doll key is merely an object that communicates a potential status to others, and is entirely up to the wearer to decide the implications. The restrictions applied by this key are intentionally minimal with the exception of the unwound state so as to not conflict with or overlap other devices which might be better suited. 

Just to be abundantly clear...
*******************************************************************
RLV is NOT bondage, RLV is NOT roleplay in and of itself, RLV is NOT a system designed to cause pain, drama, or grief for the user. RLV is a tool, how it is used is entirely up to the user.
        
This key is NOT a bondage device in and of itself. It is NOT something which gets welded or attached to someone and forgotten. It is NOT a device to allow an Owner or other to restrict the wearer to oblivion. It is NOT a substitute for real interaction or involvement with the Wearer. 
    
If you are looking for that sort of thing, there are already many keys and other devices from other makers out there which do these things, often thoughtlessly.

Refunds are not available for purchased products, but the buyer is welcome to use other devices along with this one for the desired effect at their own discretion.
*******************************************************************
